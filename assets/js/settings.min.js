jQuery(document).ready(function(e){e(".colorpicker").hide(),e(".colorpicker").each(function(){e(this).farbtastic(e(this).closest(".color-picker").find(".color"))}),e(".color").click(function(){e(this).closest(".color-picker").find(".colorpicker").fadeIn()}),e(document).mousedown(function(){e(".colorpicker").each(function(){"block"===e(this).css("display")&&e(this).fadeOut()})});let r;jQuery.fn.uploadMediaFile=function(e,t){if(r)r.open();else{r=wp.media.frames.fileFrame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1});const i=e.attr("id"),o=i.replace("_button",""),c=i.replace("_button","_preview");r.on("select",function(){var e=r.state().get("selection").first().toJSON();jQuery("#"+o).val(e.id),t&&jQuery("#"+c).attr("src",e.sizes.thumbnail.url),r=!1}),r.open()}},jQuery(".image_upload_button").click(function(){jQuery.fn.uploadMediaFile(jQuery(this),!0)}),jQuery(".image_delete_button").click(function(){return jQuery(this).closest("td").find(".image_data_field").val(""),jQuery(this).closest("td").find(".image_preview").remove(),!1})});